<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Allowance</title>
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/perfom.css">
  </head>
  <body>

    <!---------------top bar and side menu----------------------------------------->
 <div id="navbar-container"></div>
<!---------------top bar and side menu----------------------------------------->
   
<main class="content">
  <div class="pageTitle">
    <h2 id="pageTitle">Travel Allowance</h2>
  </div>
  <div class="search-row">
    <div class="atten-filter">
      <button id="addRecordBtn">Add Record</button>
       <button id="taStatus">Status</button>
    </div>
    <div class="button-attn">     
      <button id="submitFileBtn" style="display:none;">Submit</button>
    </div>
  </div>

  <div class="section-block">
      <div class="table-scroll">
        <table>
          <thead>
            <tr> 
              <th>Date</th>
          <th>Visited To</th>
          <th>Purpose</th>
          <th>Mode</th>
          <th>Total ₹</th>
        </tr>
      </thead>
          <tbody class="taFileTdata" id="taFileBody"></tbody>         
        </table>
      </div>
      <table>
        <tfoot>
          <tr>   
            <td colspan="4">Total Amount</td>         
            <td colspan="1" id="fileTotal"></td>
          </tr>
        </tfoot>
      </table>
    </div>

<!--- popup ------------>
      <div class="popup-overlay" id="popupAdrecord">
    <div class="popup-box allowance">
      <div class="title">
      <h3 id="popupTitle">New Allowance Record</h3></div>
       <form id="taForm">
        <div class="inputFilds"> 
          <div class="inputBox">
            <label>Visited To:</label>
      <input type="text" id="toPlace" required>
          </div>
          <div class="inputBox">
            <label>Purpose</label>
      <input type="text" id="Purpose" required>
          </div>      
          <div class="inputBox">
            <label>Mode of Travel</label>
      <select id="mode" required>
        <option disabled selected>Select Mode</option>
        <option value="bus">Bus</option>
        <option value="self">Self</option>
      </select>
          </div>      
          <div class="inputBox">
            <div id="busSection" style="display:none;">
        <label>Bus Fare (₹):</label>
        <input type="number" id="busFare" step="0.01">
      </div>
          </div>      
          <div class="inputBox">
      <div id="selfSection" style="display:none;">
        <label>Total KM:</label>
        <input type="number" id="totalKm" step="0.1">
      </div>
      </div>
        </div>
      <div class="total" id="totalDisplay">Total: ₹0.00</div>
<div class="btns">
      <button type="submit" class="save-btn">Save</button>
      <button id="CancelDtl" type="button" class="cancel-btn">Cancel</button>
</div>
    </form>
    </div>
  </div> 

       <div class="popup-overlay" id="popupTAstatus">
    <div class="popup-box allowance">
      <div class="title">
      <h3 id="popupTitle">Submited Allowance Status</h3></div>      
      <table id="approvedTable">
      <thead>
        <tr>
          <th>TA No</th>
          <th>Date</th>
          <th>Total ₹</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="approvedBody"></tbody>
    </table>
    <div class="btns">
      <button id="Close" type="button" class="cancel-btn">Close</button>
    </div>
  </div>    
  </div>


</main>  

<script>
const updateBtn = document.getElementById("addRecordBtn");
const cancelBtn = document.getElementById("CancelDtl");

const statusBtn = document.getElementById("taStatus");
const CloseBtn = document.getElementById("Close");

updateBtn.addEventListener("click", () => {
  popupAdrecord.style.display = "flex";
});
cancelBtn.addEventListener("click", () => {
  popupAdrecord.style.display = "none";
});

statusBtn.addEventListener("click", () => {
  popupTAstatus.style.display = "flex";
});

CloseBtn.addEventListener("click", () => {
  popupTAstatus.style.display = "none";
});


</script>
 

<script type="module" src="./assets/js/ta.js"></script>
<script type="module" src="./assets/js/utils/topbar.js"></script>
</body>
</html>


